<!DOCTYPE html><html><head><meta charset="utf-8"><title>DIY Smart-Garage with Raspberry Pi - Hari Menon</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="Converting a regular remote controlled garage door into a DIY, Alexa-controlled smart garage using a Raspberry Pi and a couple of open-source apps."><meta property="og:type" content="article"><meta property="og:title" content="DIY Smart-Garage with Raspberry Pi"><meta property="og:url" content="https://harimenon.com/2019/04/27/diy-smart-garage-with-raspberry-pi/index.html"><meta property="og:site_name" content="Hari Menon"><meta property="og:description" content="Converting a regular remote controlled garage door into a DIY, Alexa-controlled smart garage using a Raspberry Pi and a couple of open-source apps."><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-04-27T17:50:00.000Z"><meta property="article:modified_time" content="2020-01-24T01:22:19.000Z"><meta property="article:author" content="Hari Menon"><meta property="article:tag" content="smart garage"><meta property="article:tag" content="raspberry pi"><meta property="article:tag" content="alexa"><meta property="article:tag" content="python"><meta property="article:tag" content="javascript"><meta property="article:tag" content="node.js"><meta property="article:tag" content="soldering"><meta property="article:tag" content="diy"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://harimenon.com/2019/04/27/diy-smart-garage-with-raspberry-pi/"><link rel="alternative" href="/atom.xml" title="Hari Menon" type="application/atom+xml"><link rel="icon" href="/favicon.png"><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link href="//cdn.jsdelivr.net/smc-webfonts/latest/fonts/manjari.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet"><link href="/webfonts/ptserif/main.css" rel="stylesheet" type="text/css"><link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css"><link href="/css/fonts/css/all.min.css" rel="stylesheet" type="text/css"><link href="/css/fonts/css/v4-shims.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style.css"><script type="text/javascript">!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script"),ga("create","UA-4869398-4","auto"),ga("send","pageview")</script><meta name="generator" content="Hexo 4.2.0"></head></html><body><div id="container"><header id="header"><div id="header-outer" class="outer"><div id="header-inner" class="inner"><a id="main-nav-toggle" class="fas nav-icon" href="javascript:;"></a> <a id="logo" class="logo" href="/"></a><nav id="main-nav"><a class="main-nav-link" href="/"><i title="Home" class="fa fa-home fa-2x fa-fw"><span class="nav-text">Home</span></i></a> <a class="main-nav-link" href="/about"><i title="About Me" class="fa fa-user-circle fa-2x fa-fw"><span class="nav-text">About Me</span></i></a> <a class="main-nav-link" href="/archives"><i title="Archives" class="fa fa-archive fa-2x fa-fw"><span class="nav-text">Archives</span></i></a> <a class="main-nav-link" href="/categories"><i title="Categories" class="fa fa-folder-open fa-2x fa-fw"><span class="nav-text">Categories</span></i></a> <a class="main-nav-link" href="/tags"><i title="Tags" class="fa fa-tags fa-2x fa-fw"><span class="nav-text">Tags</span></i></a> <a class="main-nav-link" href="/atom.xml"><i title="RSS" class="fa fa-rss fa-2x fa-fw"><span class="nav-text">RSS</span></i></a></nav><nav id="sub-nav"><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://harimenon.com"></form></div></nav></div></div></header><section id="main" class="outer"><article id="post-diy-smart-garage-with-raspberry-pi" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">DIY Smart-Garage with Raspberry Pi</h1></header><div class="article-meta"><a href="/2019/04/27/diy-smart-garage-with-raspberry-pi/" class="article-date"><time datetime="2019-04-27T17:50:00.000Z" itemprop="datePublished">2019-04-27</time></a><div class="article-category"><a class="article-category-link" href="/categories/technical/">technical</a></div></div><div class="article-entry" itemprop="articleBody"><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>We have a detached garage that opens into the alley behind our home and it has always been difficult to quickly tell from within the house if the garage door is currently open or closed. And this is something that I really wanted to fix with some sort of DIY hacks, right from the very first day we started living in our home.</p><p>Sometime in early March, the garage door began having another problem - closing it with one of the remotes or with the wall-switch begins with the closing, but immediately stops and backs out after closing a few inches. I later diagnosed this to be an issue with misaligned/dirty sensors and have rectified it.</p><p>But that problem energized my desire to start a DIY project to convert my plain old, “builder quality” garage door opener (which is <em>Chamberlain HD400DM</em>) to a “<strong>smart one</strong>“.</p><a id="more"></a><h2 id="Research"><a href="#Research" class="headerlink" title="Research"></a>Research</h2><p>I have some experience with a Raspberry Pi - I have configured one to be to used as my backup/file/print/media server along with <a href="https://github.com/eclair4151/AlexaControlledSamsungTV" target="_blank" rel="noopener">an open-source Python app/daemon</a> on it that helps control our Samsung TV with Alexa. So my search keywords were along the lines of “raspberry pi smart garage”, “detect garage door state” etc.</p><p>These helped me discover a couple of well-documented open-source apps/projects that seemed really fitting:</p><ol><li><a href="https://github.com/rllynch/pi_garage_alert" target="_blank" rel="noopener">rllynch/pi_garage_alert</a></li><li><a href="https://github.com/chasechou/node-garagepi" target="_blank" rel="noopener">chasechou/node-garagepi</a></li></ol><p>The first one, written in Python, enables attaching <a href="https://smile.amazon.com/gp/product/B00CAIVNM4/" target="_blank" rel="noopener">a magnetic switch/sensor</a> to the door and sends out alerts as texts/emails/tweets etc., when the door has been open for ‘x’ number of minutes. This is done by configuring Raspberry Pi’s <a href="https://www.raspberrypi.org/documentation/usage/gpio/" target="_blank" rel="noopener">GPIO</a> to the magnetic sensor.</p><p>The second one, written originally in Python and later converted into Node.js, enables using a Raspberry Pi camera module to visually inspect the garage door along with a GPIO-controlled <a href="https://smile.amazon.com/gp/product/B0057OC6D8/" target="_blank" rel="noopener">2-channel relay</a> soldered on to a Garage Door Opener remote, to open and close the door via an intranet web app.</p><p>I realized that combining these two will help me to implement all these features into my “<strong>smart garage</strong>“:</p><ol><li>check a web app to see if the door is open or closed (via the camera)</li><li>click on a button on the same web app to open/close the door</li><li>receive email/text when the door stays open for ‘x’ minutes</li></ol><h2 id="Custom-Enhancements"><a href="#Custom-Enhancements" class="headerlink" title="Custom Enhancements"></a>Custom Enhancements</h2><p>After seeing these, the idea of creating an Alexa skill germinated. The skill should be able to:</p><ol><li>control the garage door as well as to</li><li>check the current state of the door (programmatically rather than “looking” through the camera)</li></ol><p>And for this, I made these additional changes:</p><ul><li><p>added <a href="https://github.com/rllynch/pi_garage_alert/pull/8" target="_blank" rel="noopener">an optional feature</a> to the Python-based <code>pi_garage_alert</code> service to write the state of the door when it changes to a text file somewhere on the Pi.</p></li><li><p>made a similar change into the Node.js-based <code>node-garagepi</code> to read the same text file and to return from a <code>GET status</code> endpoint.</p></li><li><p>developed a custom Alexa skill along with another Node.js web-service to make the whole thing voice-controlled</p></li></ul><h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>Essentially, the implementation involved following these detailed write-ups from the authors of the two services mentioned above:</p><ol><li><a href="https://www.richlynch.com/2013/07/27/pi_garage_alert_1/" target="_blank" rel="noopener">Making Your Garage Door Email, Tweet, or SMS</a></li><li><a href="https://coderwall.com/p/jsd5mw/raspberry-pi-garage-door-opener-with-garagepi" target="_blank" rel="noopener">Raspberry Pi Garage Door Opener with GaragePi</a></li></ol><p>The minor changes that I made to both of these projects - like the changes to make them both talk to each other, upgrading the outdated dependencies, converting to the latest version of JavaScript etc. - are all currently in private repositories.</p><p>And the custom Alexa skill itself is not currently published to the store since the URL to the publicly available web-service that Alexa calls, is “hard-coded” in the present form. So the source code for the custom skill and the web-service that Alexa calls are also currently in private repositories.</p><p>The project taught me a few new things, made me do a little bit of wiring and <a href="https://twitter.com/menonHari/status/1110390580373262341" target="_blank" rel="noopener">some crude soldering</a>, cost around $130 in all and was a lot of fun. And our garage door can now be opened/closed with Alexa!</p><p>If there is enough interest, I shall clean-up and open-source all of these currently private repos along with a more detailed walk-through of implementing this “smart garage”.</p><h2 id="Thank-you"><a href="#Thank-you" class="headerlink" title="Thank you!"></a>Thank you!</h2><p>Thank you for your time - please let me know your thoughts via the comments below.</p></div><footer class="article-footer"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/alexa/" rel="tag">alexa</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/diy/" rel="tag">diy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node-js/" rel="tag">node.js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/raspberry-pi/" rel="tag">raspberry pi</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smart-garage/" rel="tag">smart garage</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/soldering/" rel="tag">soldering</a></li></ul></footer></div><nav id="article-nav"><a href="/2019/04/06/random-sketch/" id="article-nav-older" class="article-nav-link-wrap"><div class="article-nav-title">Random sketch&nbsp;<span>&gt;</span></div></a></nav></article><section id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript></div></section></section><footer id="footer"><div class="outer"><div id="footer-info" class="inner" title="Generated on 20200123 202354">Copyright &copy; 2009 - 2020 Hari Menon&nbsp;| Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></div></div></footer><script>var disqus_shortname="harimenonenglishblog",disqus_url="https://harimenon.com/2019/04/27/diy-smart-garage-with-raspberry-pi/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script src="/js/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body>